<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


<h:head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="css/bootstrap.css" />
	<link rel="stylesheet" href="css/bootstrap-theme.css " />
	<title>Lista de Actividades</title>
</h:head>
<body>

	<h:form>
		<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">

				<p:link class="navbar-brand" outcome="index">AdminPro</p:link>
			</div>

			<div class="collapse navbar-collapse"
				id="bs-example-navbar-collapse-1">

				<ul class="nav navbar-nav navbar-right">

					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown" role="button" aria-haspopup="true"
						aria-expanded="false"> <span class="glyphicon glyphicon-user">&nbsp;</span>#{mbUser.usuario.usuario!=null?
							mbUser.usuario.usuario : "Iniciar Sesi√≥n"} <span class="caret">
						</span>
					</a> <p:panelGrid rendered="#{mbUser.usuario.usuario==null}">
							<ul class="dropdown-menu">
								<li><p:link outcome="login">
										<span class="glyphicon glyphicon-log-in">&nbsp;</span>
									Ingresar </p:link></li>
								<li role="separator" class="divider"></li>
								<li><p:link outcome="usuario">
										<span class="glyphicon glyphicon-plus-sign">&nbsp;</span>Crear
									Usuario</p:link></li>
							</ul>
						</p:panelGrid></li>
				</ul>
			</div>
		</div>
		</nav>

		<div class="container">
			<div class="panel panel-primary">
				<div class="panel panel-heading">
					<h3 class="panel-title text-center">Lista de Actividades
						Generales</h3>
				</div>
				<div class="panel-body">
					<p:dataTable value="#{mbTablas.listaGeneral}" var="tabla"
						rowIndexVar="rowIndex" selection="#{mbTablas.seleccion}"
						selectionMode="single" rowKey="#{tabla}" scrollable="true"
						scrollHeight="385">
						<p:ajax event="rowSelect" ></p:ajax>

						<p:column class="text-center" headerText="Id Actividad">#{tabla.idAct}</p:column>
						<p:column headerText="Tipo Actividad">#{tabla.tipoActividad}</p:column>
						<p:column class="text-center" headerText="Nivel">#{tabla.nivel}</p:column>
						<p:column headerText="Nombre Actividad">#{tabla.nombreActividad}</p:column>
						<p:column class="text-center" headerText="Valor Esperado">
							<p:progressBar value="#{tabla.valorEsperado}" labelTemplate="{value}%" displayOnly="true" styleClass="animated" global="false"/>
						</p:column>
						<p:column class="text-center" headerText="Valor Alcanzado">
								<p:progressBar value="#{tabla.valorAlcanzado}" labelTemplate="{value}%" displayOnly="true" styleClass="animated" global="false"/>
						</p:column>
						<p:column class="text-center" headerText="Ver Actividad">
							<p:commandButton icon="ui-icon-circle-zoomout" action="#{mbTablas.verTareaPrincipal(rowIndex)}" iconPos="right"></p:commandButton>
						</p:column>
					</p:dataTable>
				</div>
			</div>

		</div>
	</h:form>
	<!-- Script -->
	<script src="js/jquery-2.1.4.min.js"></script>
	<script src="js/bootstrap.js"></script>
</body>
</html>
